# ğŸ•·ï¸ í¬ë¡¤ë§ ê¸°ëŠ¥ ì„¤ì • ê°€ì´ë“œ

## ê°œìš”

ê²€ìƒ‰ ê²°ê³¼ì— ì˜ì—…ì‹œê°„ ì •ë³´ë¥¼ ìë™ìœ¼ë¡œ í¬ë¡¤ë§í•˜ì—¬ í‘œì‹œí•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.

## ì„¤ì¹˜ ë°©ë²•

### 1. Puppeteer ì„¤ì¹˜

```bash
cd test_server
npm install puppeteer
```

### 2. ì„œë²„ ì¬ì‹œì‘

```bash
node server.js
```

ì„œë²„ ì‹œì‘ ì‹œ ë‹¤ìŒ ë©”ì‹œì§€ê°€ í‘œì‹œë˜ë©´ ì„±ê³µ:
```
âœ… í¬ë¡¤ë§ API ë¡œë“œë¨ (puppeteer ì‚¬ìš© ê°€ëŠ¥)
```

## ì‘ë™ ë°©ì‹

### ìë™ í¬ë¡¤ë§ íë¦„

1. **ê²€ìƒ‰ ì‹¤í–‰** â†’ ì‚¬ìš©ìê°€ ì¥ì†Œ ê²€ìƒ‰
2. **ì¹´ì¹´ì˜¤ë§µ API í˜¸ì¶œ** â†’ ê¸°ë³¸ ì¥ì†Œ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
3. **í¬ë¡¤ë§ API í˜¸ì¶œ** â†’ ê° ì¥ì†Œì˜ ìƒì„¸ ì •ë³´ í¬ë¡¤ë§
   - ì˜ì—…ì‹œê°„
   - ì „í™”ë²ˆí˜¸
   - ì£¼ì†Œ
4. **ê²°ê³¼ í‘œì‹œ** â†’ ê²€ìƒ‰ ê²°ê³¼ì™€ ìƒì„¸ í™”ë©´ì— ì •ë³´ í‘œì‹œ

### ìºì‹± ì‹œìŠ¤í…œ

- í¬ë¡¤ë§í•œ ì •ë³´ëŠ” **1ì‹œê°„ ë™ì•ˆ ìºì‹œ**
- ê°™ì€ ì¥ì†Œ ì¬ê²€ìƒ‰ ì‹œ ì¦‰ì‹œ í‘œì‹œ
- ì„œë²„ ì¬ì‹œì‘ ì‹œ ìºì‹œ ì´ˆê¸°í™”

## ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ

### ê²€ìƒ‰ ë¦¬ìŠ¤íŠ¸
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì—”ì œë¦¬ë„ˆìŠ¤ ëŒ€ì „ì¹´ì´ìŠ¤íŠ¸ì       â”‚
â”‚ ì˜ì—…ì¤‘                        â”‚
â”‚ ì˜ì—… ì¤‘ Â· 22:00ì— ì˜ì—… ì¢…ë£Œ    â”‚ â† í¬ë¡¤ë§ ì •ë³´
â”‚ ë¦¬ë·° 999+ ğŸ¦½ ë‚®ì€ ë¬¸í„±Â·ê²½ì‚¬ë¡œ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ìƒì„¸ í™”ë©´
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ ëŒ€ì „ ìœ ì„±êµ¬ êµ¬ì„±ë™ 23      â”‚
â”‚ ğŸ“ 042-350-0856              â”‚
â”‚ ğŸ• ì˜ì—… ì¤‘ Â· 22:00ì— ì˜ì—… ì¢…ë£Œ â”‚ â† í¬ë¡¤ë§ ì •ë³´
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## API ì—”ë“œí¬ì¸íŠ¸

### ë‹¨ì¼ ì¥ì†Œ í¬ë¡¤ë§
```javascript
POST /api/crawl/place
Content-Type: application/json

{
  "placeName": "ì—”ì œë¦¬ë„ˆìŠ¤ ëŒ€ì „ì¹´ì´ìŠ¤íŠ¸ì ",
  "placeUrl": "https://place.kakao.com/..."
}
```

**ì‘ë‹µ:**
```json
{
  "placeName": "ì—”ì œë¦¬ë„ˆìŠ¤ ëŒ€ì „ì¹´ì´ìŠ¤íŠ¸ì ",
  "businessHours": "ì˜ì—… ì¤‘ Â· 22:00ì— ì˜ì—… ì¢…ë£Œ",
  "phoneNumber": "042-350-0856",
  "address": "ëŒ€ì „ ìœ ì„±êµ¬ êµ¬ì„±ë™ 23",
  "crawledAt": "2025-11-13T..."
}
```

### ì—¬ëŸ¬ ì¥ì†Œ í¬ë¡¤ë§
```javascript
POST /api/crawl/places
Content-Type: application/json

{
  "places": [
    {
      "place_name": "ì¥ì†Œ1",
      "place_url": "https://..."
    },
    {
      "place_name": "ì¥ì†Œ2",
      "place_url": "https://..."
    }
  ]
}
```

## ì„±ëŠ¥ ìµœì í™”

### ë³‘ë ¬ ì²˜ë¦¬
- ê²€ìƒ‰ ê²°ê³¼ì˜ ëª¨ë“  ì¥ì†Œë¥¼ **ë™ì‹œì— í¬ë¡¤ë§**
- ìµœëŒ€ ëŒ€ê¸° ì‹œê°„: **5ì´ˆ**
- 5ì´ˆ ì´ˆê³¼ ì‹œ ì›ë³¸ ë°ì´í„° í‘œì‹œ

### ì°¨ë‹¨ ë°©ì§€
- ê° í¬ë¡¤ë§ ìš”ì²­ ê°„ **2ì´ˆ ëŒ€ê¸°**
- User-Agent ì„¤ì •ìœ¼ë¡œ ì •ìƒ ë¸Œë¼ìš°ì €ë¡œ ì¸ì‹
- ìºì‹±ìœ¼ë¡œ ì¤‘ë³µ ìš”ì²­ ë°©ì§€

## ë¬¸ì œ í•´ê²°

### í¬ë¡¤ë§ì´ ì‘ë™í•˜ì§€ ì•Šì„ ë•Œ

1. **Puppeteer ì„¤ì¹˜ í™•ì¸**
   ```bash
   npm list puppeteer
   ```

2. **ì„œë²„ ë¡œê·¸ í™•ì¸**
   ```
   âš ï¸ í¬ë¡¤ë§ API ì‚¬ìš© ë¶ˆê°€ (puppeteer ë¯¸ì„¤ì¹˜)
   ```
   â†’ Puppeteer ì„¤ì¹˜ í•„ìš”

3. **ë¸Œë¼ìš°ì € ì½˜ì†” í™•ì¸**
   ```javascript
   // F12 ê°œë°œì ë„êµ¬ â†’ Console
   [ì¥ì†Œëª…] í¬ë¡¤ë§ ì„±ê³µ: {...}
   ```

### í¬ë¡¤ë§ì´ ëŠë¦´ ë•Œ

- ê° ì¥ì†Œë‹¹ ì•½ 2-3ì´ˆ ì†Œìš”
- 5ê°œ ì¥ì†Œ ê²€ìƒ‰ ì‹œ ìµœëŒ€ 15ì´ˆê¹Œì§€ ê±¸ë¦´ ìˆ˜ ìˆìŒ
- ìºì‹œê°€ ìˆìœ¼ë©´ ì¦‰ì‹œ í‘œì‹œë¨

### ì¹´ì¹´ì˜¤ë§µ ì°¨ë‹¨ ë‹¹í–ˆì„ ë•Œ

1. **í¬ë¡¤ë§ ê°„ê²© ëŠ˜ë¦¬ê¸°**
   - `crawl_api.js`ì˜ ëŒ€ê¸° ì‹œê°„ ì¦ê°€
   ```javascript
   await new Promise(resolve => setTimeout(resolve, 5000)); // 2000 â†’ 5000
   ```

2. **ìºì‹œ ì‹œê°„ ëŠ˜ë¦¬ê¸°**
   ```javascript
   const CACHE_DURATION = 1000 * 60 * 60 * 24; // 1ì¼
   ```

## í¬ë¡¤ë§ ë¹„í™œì„±í™”

í¬ë¡¤ë§ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë ¤ë©´:

### ë°©ë²• 1: Puppeteer ì œê±°
```bash
npm uninstall puppeteer
```

ì„œë²„ê°€ ìë™ìœ¼ë¡œ í¬ë¡¤ë§ ì—†ì´ ì‘ë™í•©ë‹ˆë‹¤.

### ë°©ë²• 2: íŒŒì¼ ì‚­ì œ
```bash
# Windows
del test_server\crawl_api.js
del test_server\crawl_business_hours.js
del test_server\README_CRAWLER.md
del test_server\SETUP_CRAWLING.md

# Mac/Linux
rm test_server/crawl_api.js
rm test_server/crawl_business_hours.js
rm test_server/README_CRAWLER.md
rm test_server/SETUP_CRAWLING.md
```

## ì£¼ì˜ì‚¬í•­

âš ï¸ **ë²•ì  ì±…ì„**
- ì¹´ì¹´ì˜¤ë§µ ì´ìš©ì•½ê´€ì„ ì¤€ìˆ˜í•˜ì„¸ìš”
- ê³¼ë„í•œ í¬ë¡¤ë§ì€ ì„œë¹„ìŠ¤ ì°¨ë‹¨ì„ ì´ˆë˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- ìƒì—…ì  ì‚¬ìš© ì‹œ ê³µì‹ API ì‚¬ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤

âš ï¸ **ì„±ëŠ¥**
- PuppeteerëŠ” Chromeì„ ì‹¤í–‰í•˜ë¯€ë¡œ ë©”ëª¨ë¦¬ë¥¼ ë§ì´ ì‚¬ìš©í•©ë‹ˆë‹¤
- ì„œë²„ ë¦¬ì†ŒìŠ¤ê°€ ë¶€ì¡±í•˜ë©´ ë¹„í™œì„±í™”ë¥¼ ê³ ë ¤í•˜ì„¸ìš”

âš ï¸ **ìœ ì§€ë³´ìˆ˜**
- ì¹´ì¹´ì˜¤ë§µ HTML êµ¬ì¡°ê°€ ë³€ê²½ë˜ë©´ ì‘ë™í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤
- ì •ê¸°ì ìœ¼ë¡œ í¬ë¡¤ë§ ì„ íƒìë¥¼ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”

## ëŒ€ì•ˆ: Kakao Local API

ê³µì‹ API ì‚¬ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤:

```javascript
// Kakao Local API - ì¥ì†Œ ìƒì„¸ ì •ë³´
const response = await fetch(
  `https://dapi.kakao.com/v2/local/search/keyword.json?query=${keyword}`,
  {
    headers: {
      'Authorization': `KakaoAK ${REST_API_KEY}`
    }
  }
);
```

**ì¥ì :**
- âœ… ë²•ì ìœ¼ë¡œ ì•ˆì „
- âœ… ì•ˆì •ì ì´ê³  ë¹ ë¦„
- âœ… ê³µì‹ ì§€ì› ë° ë¬¸ì„œ
- âœ… í• ë‹¹ëŸ‰ ë‚´ ë¬´ë£Œ

**ë‹¨ì :**
- âŒ ì˜ì—…ì‹œê°„ ì •ë³´ê°€ ì œí•œì 
- âŒ API í‚¤ í•„ìš”
- âŒ í˜¸ì¶œ ì œí•œ ìˆìŒ

## ì°¸ê³  ìë£Œ

- [Puppeteer ê³µì‹ ë¬¸ì„œ](https://pptr.dev/)
- [Kakao Developers](https://developers.kakao.com/)
- [Kakao Local API](https://developers.kakao.com/docs/latest/ko/local/dev-guide)

